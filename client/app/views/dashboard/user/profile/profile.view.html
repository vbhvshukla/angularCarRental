<div class="container-fluid" ng-init="vm.init()">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
            <div class="panel panel-default" style="margin-top: 20px; margin-bottom: 20px;">
                <div class="panel-body" style="padding: 25px;">
                    <h2 class="text-primary" style="margin-bottom: 25px; font-size: 24px;">Profile Information</h2>
                    
                    <!-- Username Field -->
                    <div class="form-group">
                        <label class="control-label">Username</label>
                        <input type="text" class="form-control" ng-model="vm.user.username" disabled 
                            style="background-color: #f8f9fa;">
                    </div>

                    <!-- Email Field -->
                    <div class="form-group">
                        <label class="control-label">Email</label>
                        <input type="email" class="form-control" ng-model="vm.user.email" disabled 
                            style="background-color: #f8f9fa;">
                    </div>

                    <!-- Rating Information -->
                    <div class="well well-sm" style="margin: 20px 0;">
                        <div class="row">
                            <div class="col-xs-6">
                                <strong>Average Rating:</strong> {{vm.user.avgRating || 'N/A'}}
                            </div>
                            <div class="col-xs-6">
                                <strong>Total Ratings:</strong> {{vm.user.ratingCount || 'N/A'}}
                            </div>
                        </div>
                    </div>

                    <!-- Verification File -->
                    <div class="form-group" ng-if="vm.user.verificationFile">
                        <label class="control-label">Verification Document</label>
                        <div class="well well-sm" style="margin-bottom: 0;">
                            <img ng-if="vm.user.verificationFile.startsWith('data:image/')" 
                                ng-src="{{vm.user.verificationFile}}" 
                                alt="Verification File" 
                                class="img-responsive" 
                                style="max-width: 200px; border-radius: 4px;">
                            <a ng-if="!vm.user.verificationFile.startsWith('data:image/')" 
                                ng-href="{{vm.user.verificationFile}}" 
                                target="_blank" 
                                class="btn btn-link">View Document</a>
                        </div>
                    </div>

                    <!-- Password Change Section -->
                    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
                        <h3 style="margin-bottom: 20px; font-size: 20px;">Change Password</h3>
                        
                        <!-- Old Password -->
                        <div class="form-group">
                            <label class="control-label">Old Password</label>
                            <input type="password" 
                                class="form-control" 
                                ng-model="vm.oldPassword" 
                                ng-change="vm.validateOldPassword()">
                            <span class="help-block text-danger" ng-if="vm.oldPasswordError">
                                {{vm.oldPasswordError}}
                            </span>
                        </div>

                        <!-- New Password -->
                        <div class="form-group" ng-show="vm.showNewPasswordField">
                            <label class="control-label">New Password</label>
                            <input type="password" 
                                class="form-control" 
                                ng-model="vm.newPassword">
                            <span class="help-block text-danger" ng-if="vm.newPasswordError">
                                {{vm.newPasswordError}}
                            </span>
                            <button type="button" 
                                class="btn btn-primary" 
                                ng-click="vm.updatePassword()"
                                style="margin-top: 10px;">
                                Update Password
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Additional responsive styles */
@media (max-width: 768px) {
    .panel-body {
        padding: 15px;
    }
    
    h2 {
        font-size: 20px !important;
    }
    
    h3 {
        font-size: 18px !important;
    }
    
    .well {
        padding: 10px;
    }
}

.form-control {
    height: 40px;
    border-radius: 4px;
}

.btn-primary {
    padding: 8px 16px;
    border-radius: 4px;
}

.help-block {
    margin-top: 5px;
    margin-bottom: 0;
}
</style>
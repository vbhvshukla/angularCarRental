<div class="profile-section"  ng-init="vm.init()">
    <h2>Profile Information</h2>
    <div class="form-group">
        <label>Username</label>
        <input type="text" ng-model="vm.user.username" disabled>
    </div>
    <div class="form-group">
        <label>Email</label>
        <input type="email" ng-model="vm.user.email" disabled>
    </div>
    <div class="rating-info">
        <div>Average Rating: {{vm.user.avgRating || 'N/A'}}</div>
        <div>Total Ratings: {{vm.user.ratingCount || 'N/A'}}</div>
    </div>

    <div class="verification-file" ng-if="vm.user.verificationFile">
        <img ng-if="vm.user.verificationFile.startsWith('data:image/')" ng-src="{{vm.user.verificationFile}}"
            alt="Verification File">
        <a ng-if="!vm.user.verificationFile.startsWith('data:image/')" ng-href="{{vm.user.verificationFile}}"
            target="_blank">View Document</a>
    </div>

    <div class="password-section">
        <h3>Change Password</h3>
        <div class="form-group">
            <label>Old Password</label>
            <input type="password" ng-model="vm.oldPassword" ng-change="vm.validateOldPassword()">
            <span class="error">{{vm.oldPasswordError}}</span>
        </div>

        <div class="form-group" ng-show="vm.showNewPasswordField">
            <label>New Password</label>
            <input type="password" ng-model="vm.newPassword">
            <span class="error">{{vm.newPasswordError}}</span>
            <button ng-click="vm.updatePassword()" class="btn btn-primary">Update Password</button>
        </div>
    </div>
</div>